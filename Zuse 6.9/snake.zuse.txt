BENUTZE tkinter ALS tk
BENUTZE zufall ALS random

# --- KONFIGURATION ---
BLOCK = 20
BREITE = 400
HOEHE = 400
GRID_W = 20 # 400 / 20
GRID_H = 20 # 400 / 20

KLASSE SnakeSpiel:
    DEFINIERE ERSTELLE():
        # Fenster initialisieren
        SELBST.fenster = tk.Tk()
        SELBST.fenster.title("Zuse Snake")
        SELBST.fenster.geometry(str(BREITE) + "x" + str(HOEHE))
        SELBST.fenster.resizable(falsch, falsch)

        # Canvas zum Zeichnen (Schwarzer Hintergrund)
        SELBST.canvas = tk.Canvas(SELBST.fenster, width=BREITE, height=HOEHE, bg="black")
        SELBST.canvas.pack()

        SELBST.start_spiel()

        # Tasten binden
        SELBST.fenster.bind("<Left>", SELBST.links)
        SELBST.fenster.bind("<Right>", SELBST.rechts)
        SELBST.fenster.bind("<Up>", SELBST.hoch)
        SELBST.fenster.bind("<Down>", SELBST.runter)
        
        # Neustart mit Leertaste wenn Game Over
        SELBST.fenster.bind("<space>", SELBST.neustart_check)

        # GUI Loop starten
        SELBST.loop()
        SELBST.fenster.mainloop()
    ENDE FUNKTION

    DEFINIERE start_spiel():
        SELBST.laeuft = wahr
        SELBST.punkte = 0
        SELBST.dx = 1
        SELBST.dy = 0
        SELBST.schlange = [[5, 10], [4, 10], [3, 10]]
        SELBST.neues_futter()
        SELBST.fenster.title("Zuse Snake - Punkte: 0")
    ENDE FUNKTION

    DEFINIERE neustart_check(event):
        WENN SELBST.laeuft == falsch DANN SELBST.start_spiel() ENDE WENN
    ENDE FUNKTION

    # --- STEUERUNG ---
    DEFINIERE links(event):
        WENN SELBST.dx != 1 DANN SELBST.dx = -1 SELBST.dy = 0 ENDE WENN
    ENDE FUNKTION

    DEFINIERE rechts(event):
        WENN SELBST.dx != -1 DANN SELBST.dx = 1 SELBST.dy = 0 ENDE WENN
    ENDE FUNKTION

    DEFINIERE hoch(event):
        WENN SELBST.dy != 1 DANN SELBST.dx = 0 SELBST.dy = -1 ENDE WENN
    ENDE FUNKTION

    DEFINIERE runter(event):
        WENN SELBST.dy != -1 DANN SELBST.dx = 0 SELBST.dy = 1 ENDE WENN
    ENDE FUNKTION

    # --- LOGIK ---
    DEFINIERE neues_futter():
        fx = random.randint(0, GRID_W - 1)
        fy = random.randint(0, GRID_H - 1)
        SELBST.futter = [fx, fy]
    ENDE FUNKTION

    DEFINIERE loop():
        WENN SELBST.laeuft DANN
            SELBST.bewegen()
            SELBST.zeichnen()
        ENDE WENN
        # Loop ruft sich alle 150ms selbst auf
        SELBST.fenster.after(150, SELBST.loop)
    ENDE FUNKTION

    DEFINIERE bewegen():
        kopf = SELBST.schlange[0]
        neuer_x = kopf[0] + SELBST.dx
        neuer_y = kopf[1] + SELBST.dy

        # --- KOLLISION WAND (Jetzt kompakt dank Parser 4.8) ---
        WENN neuer_x < 0 DANN SELBST.game_over() ENDE WENN
        WENN neuer_x >= GRID_W DANN SELBST.game_over() ENDE WENN
        WENN neuer_y < 0 DANN SELBST.game_over() ENDE WENN
        WENN neuer_y >= GRID_H DANN SELBST.game_over() ENDE WENN

        # --- KOLLISION SELBST ---
        FÜR teil IN SELBST.schlange MACHE
            WENN teil[0] == neuer_x DANN
                WENN teil[1] == neuer_y DANN SELBST.game_over() ENDE WENN
            ENDE WENN
        ENDE SCHLEIFE

        WENN SELBST.laeuft DANN
            # Bewegen: Kopf hinzufügen
            neuer_kopf = [neuer_x, neuer_y]
            SELBST.schlange.insert(0, neuer_kopf)

            # Prüfen ob gegessen
            WENN neuer_x == SELBST.futter[0] DANN
                WENN neuer_y == SELBST.futter[1] DANN
                    # Gegessen: Wachsen (kein pop), Punkte hoch, neues Futter
                    SELBST.punkte = SELBST.punkte + 1
                    SELBST.fenster.title("Zuse Snake - Punkte: " + str(SELBST.punkte))
                    SELBST.neues_futter()
                SONST
                    # Nicht gegessen: Schwanz entfernen
                    SELBST.schlange.pop()
                ENDE WENN
            SONST
                SELBST.schlange.pop()
            ENDE WENN
        ENDE WENN
    ENDE FUNKTION

    DEFINIERE game_over():
        SELBST.laeuft = falsch
        SELBST.canvas.create_text(BREITE/2, HOEHE/2, text="GAME OVER", fill="white", font="Arial 24 bold")
        SELBST.canvas.create_text(BREITE/2, HOEHE/2 + 30, text="Druecke LEERTASTE fuer Neustart", fill="yellow", font="Arial 10")
    ENDE FUNKTION

    DEFINIERE zeichnen():
        SELBST.canvas.delete("all")

        # Futter malen
        fx = SELBST.futter[0] * BLOCK
        fy = SELBST.futter[1] * BLOCK
        SELBST.canvas.create_oval(fx, fy, fx+BLOCK, fy+BLOCK, fill="red", outline="red")

        # Schlange malen
        FÜR teil IN SELBST.schlange MACHE
            x = teil[0] * BLOCK
            y = teil[1] * BLOCK
            SELBST.canvas.create_rectangle(x, y, x+BLOCK, y+BLOCK, fill="#33ff33", outline="black")
        ENDE SCHLEIFE
    ENDE FUNKTION

ENDE KLASSE

# App starten
app = SnakeSpiel.ERSTELLE()